const express=require("express"),cookieParser=require("cookie-parser"),app=express();app.use("/css",express.static(__dirname+"/public/styles")),app.use("/js",express.static(__dirname+"/public/scripts")),app.use("/img",express.static(__dirname+"/public/images")),app.use(cookieParser());const pug=require("pug"),{I18n:I18n}=require("i18n"),i18n=new I18n({locales:["en","de"],cookie:"locale",directory:__dirname+"/i18n",extension:".min.json"});app.use(i18n.init),app.use(((e,s,r)=>{s.locals.__=s.__=function(){return i18n.__.apply(e,arguments)},r()}));const routes=require("./config/routes.min");routes.routes.forEach((e=>{app.get(e[0],((s,r)=>{try{r.status(e[2]||200).send(pug.renderFile(__dirname+"/app/"+e[1]+".pug",r))}catch(e){r.status(500).send("ERROR: "+e)}}))}));const server=app.listen(3e3);