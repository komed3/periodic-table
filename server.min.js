const express=require("express"),cookieParser=require("cookie-parser"),app=express();app.use("/css",express.static("public/styles")),app.use("/js",express.static("public/scripts")),app.use("/img",express.static("public/images")),app.use(cookieParser());const pug=require("pug"),{I18n:I18n}=require("i18n"),i18n=new I18n({locales:["en","de"],cookie:"locale",directory:"./i18n",extension:".min.json"});app.use(i18n.init),app.use(((e,s,p)=>{s.locals.__=s.__=function(){return i18n.__.apply(e,arguments)},p()}));const routes=require("./config/routes.min");routes.routes.forEach((e=>{app.get(e[0],((s,p)=>{try{p.status(e[2]||200).send(pug.renderFile("./app/"+e[1]+".pug",p))}catch(e){p.status(500).send("ERROR: "+e)}}))}));const server=app.listen(3e3);